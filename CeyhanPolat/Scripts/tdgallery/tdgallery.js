/* tdGallery - Developed by Sina SALIK (2004 - 2019) */

!function(t){var a=function(a,e){var i,d=null!=e?e:{imagefolder:void 0,thumbfolder:void 0};(i=d).imagefolder=null==i.imagefolder?void 0:i.imagefolder,i.thumbfolder=null==i.thumbfolder?void 0:i.thumbfolder,function(a,e){var i=new Array;a.addClass("tdGallery"),a.find("img").each(function(t,a){i.push(a)}),a.html("");var d=0,r=i.length;t.each(i,function(i,r){var l="",n="";if(null==e.thumbfolder)n=t(r).attr("src");else{var o=t(r).attr("src");if(null==e.imagefolder){var f=!1,c=!1;o.indexOf("http://")>0?(o=o.replace("http://",""),f=!0):o.indexOf("https://")>0&&(o=o.replace("https://",""),c=!0),o=o.split("/"),t.each(o,function(t,a){n+=1==t?e.thumbfolder+"/"+a+"/":a+"/"}),n=n.slice(0,-1),n=1==f?"http://"+n:n,n=1==c?"https://"+n:n}else n=t(r).attr("src").replace(e.imagefolder+"/",e.imagefolder+"/"+e.thumbfolder+"/")}l+='<div class="tdGalPicFrame"><span class="ortala"></span><img src="'+n+'" data-index="'+d.toString()+'" /></div>',a.append(l),d++});var l=!1;a.find("img").on("click",function(){!function(a){t(".tdModal").length>0&&t(".tdModal").remove();var i=null!=e.thumbfolder?a.attr("src").replace(e.thumbfolder+"/",""):a.attr("src"),d='<div class="tdModal"><div class="tdPicFrame">';d+='<img id="tdGalPic" src="'+i+'" data-index="'+a.attr("data-index")+'" /></div>',d+='<div class="tdConFrame"><a class="tdGalPicButton" data-direction="prev" href="javascript:;"><</a>',d+='<a class="tdGalPicButton" data-direction="next" href="javascript:;">></a></div>',d+="</div>",t("body").append(d),t(".tdModal").fadeIn("slow",function(){l=!0})}(t(this))}),t(document).on("click","a.tdGalPicButton",function(){var i=t(this).parent(".tdConFrame").prev(".tdPicFrame").find("img").attr("data-index"),d=t(this).attr("data-direction");"prev"==d?0==i?i=r-1:i--:i==r-1?i=0:i++,resim=a.find("img[data-index='"+i+"']").attr("src"),resim=null!=e.thumbfolder?resim.replace(e.thumbfolder+"/",""):resim,t("#tdGalPic").attr("src",resim),t("#tdGalPic").attr("data-index",i)}),t("html").click(function(a){var e=t(".tdPicFrame"),i=t(".tdConFrame");if(null!=e.offset()){var d=a.pageX,r=a.pageY,n=e.offset().left,o=e.offset().left+e.width(),f=e.offset().top,c=e.offset().top+e.height();(d<n||r<f||d>o||r>c)&&null!=i.offset()&&(d=a.pageX,r=a.pageY,n=i.offset().left,o=i.offset().left+i.width(),f=i.offset().top,c=i.offset().top+i.height(),(d<n||r<f||d>o||r>c)&&l&&t(".tdModal").fadeOut("slow",function(){l=!1}))}})}(a,d)};t.fn.tdGallery=function(t){return new a(this,t)}}(jQuery);